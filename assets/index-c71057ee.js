import{d as D,g as C,M as H,u as M,_ as j}from"./index-e38ef5e8.js";import{d as g,b as c,m as G}from"./element-plus-990c01d8.js";import{_ as J}from"./index.vue_vue_type_style_index_0_lang-d73a9816.js";import{_ as K}from"./index.vue_vue_type_style_index_0_lang-1c87990e.js";import{_ as u,H as L,c as Q,a as R,ah as a,m as W,p as m,V as e,P as o,u as t,F as X,l as Y,U as Z,T as i}from"./vue-5a70a57f.js";const ee=D("appStore",()=>({thatOption:u({data:[]})}),{persist:!0}),oe={class:"box-editor-chart box-lowcode-app"},te=["onClick"],le={class:"context-menu"},ne={class:"el-dropdown-link"},ae={class:"dialog-footer"},de=L({__name:"index",setup(O){const v=Q().proxy;v.$router,v.$route;const $=ee(),p=u({defaultProps:{children:"children",label:"name"},data:$.thatOption.data,selectedNode:null}),F=d=>{p.selectedNode=d},N=(d,n)=>{switch(d){case"newdir":_({type:"dir"});break;case"newapp":_({type:"app"});break;case"edit":S(n);break;case"rename":_(n);break}},w=R(),l=u({dialog:{visible:!1,title:"新建目录"},form:{},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}),_=(d=null)=>{if(l.dialog.visible=!0,l.form={},d.id)l.dialog.title="重命名",l.form=d;else{const n=M();d.type=="dir"&&(l.dialog.title="新建目录",l.form={type:"dir",id:n}),d.type=="app"&&(l.dialog.title="新建应用",l.form={type:"app",id:n})}},z=()=>{w.value.validate(d=>{if(d)p.data.push({...l.form}),l.dialog.visible=!1;else return console.log("error submit!"),!1})},f=u({dialog:{visible:!1,title:"可视化"}}),S=(d=null)=>{f.dialog.visible=!0};return(d,n)=>{const b=a("el-button"),y=a("el-input"),h=a("el-col"),k=a("el-row"),P=a("el-icon"),s=a("el-dropdown-item"),U=a("el-dropdown-menu"),B=a("el-dropdown"),E=a("el-tree"),q=a("el-form-item"),I=a("el-form"),T=a("el-dialog"),A=a("el-drawer");return Y(),W(X,null,[m("div",oe,[e(t(H),{class:"default-theme"},{default:o(()=>[e(t(C),{"min-size":"10",size:"20","max-size":"30"},{default:o(()=>[e(k,null,{default:o(()=>[e(h,null,{default:o(()=>[e(y,{placeholder:"输入关键词进行搜索"},{append:o(()=>[e(b,{icon:"Plus",onClick:n[0]||(n[0]=r=>_({type:"dir"}))})]),_:1})]),_:1})]),_:1}),e(k,null,{default:o(()=>[e(h,null,{default:o(()=>[e(E,{data:t(p).data,props:t(p).defaultProps,"expand-on-click-node":!1,"node-key":"id"},{default:o(({node:r,data:x})=>[m("span",{style:{width:"100%"},class:"custom-tree-node",onClick:V=>F(x)},[m("span",null,Z(r.label),1),m("span",le,[e(B,{trigger:"click",onCommand:V=>N(V,x)},{dropdown:o(()=>[e(U,null,{default:o(()=>[e(s,{icon:t(g),command:"newdir"},{default:o(()=>[i("新建目录")]),_:1},8,["icon"]),e(s,{icon:t(g),command:"newapp"},{default:o(()=>[i("新建应用")]),_:1},8,["icon"]),e(s,{icon:t(g),command:"edit",divided:""},{default:o(()=>[i("编辑")]),_:1},8,["icon"]),e(s,{icon:t(c),command:"copy"},{default:o(()=>[i("复制")]),_:1},8,["icon"]),e(s,{icon:t(c),command:"move"},{default:o(()=>[i("移动到")]),_:1},8,["icon"]),e(s,{icon:t(c),command:"rename"},{default:o(()=>[i("重命名")]),_:1},8,["icon"]),e(s,{icon:t(c),command:"delete"},{default:o(()=>[i("删除")]),_:1},8,["icon"]),e(s,{icon:t(c),command:"copyurl",divided:""},{default:o(()=>[i("复制链接")]),_:1},8,["icon"]),e(s,{icon:t(c),command:"qrcode"},{default:o(()=>[i("二维码")]),_:1},8,["icon"])]),_:1})]),default:o(()=>[m("span",ne,[e(P,{size:15},{default:o(()=>[e(t(G))]),_:1})])]),_:2},1032,["onCommand"])])],8,te)]),_:1},8,["data","props"])]),_:1})]),_:1})]),_:1}),e(t(C),null,{default:o(()=>[e(J)]),_:1})]),_:1})]),e(T,{modelValue:t(l).dialog.visible,"onUpdate:modelValue":n[3]||(n[3]=r=>t(l).dialog.visible=r),title:t(l).dialog.title,width:"30%",draggable:"","append-to-body":""},{footer:o(()=>[m("span",ae,[e(b,{onClick:n[2]||(n[2]=r=>t(l).dialog.visible=!1)},{default:o(()=>[i("取消")]),_:1}),e(b,{type:"primary",onClick:z},{default:o(()=>[i(" 确定 ")]),_:1})])]),default:o(()=>[e(I,{ref_key:"refForm",ref:w,model:t(l).form,"label-width":"120px",rules:t(l).rules},{default:o(()=>[e(q,{label:"名称",prop:"name"},{default:o(()=>[e(y,{modelValue:t(l).form.name,"onUpdate:modelValue":n[1]||(n[1]=r=>t(l).form.name=r)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"]),e(A,{modelValue:t(f).dialog.visible,"onUpdate:modelValue":n[4]||(n[4]=r=>t(f).dialog.visible=r),title:"visualOption.dialog.title","with-header":!1,size:"100%","append-to-body":""},{default:o(()=>[e(K)]),_:1},8,["modelValue"])],64)}}});const pe=j(de,[["__scopeId","data-v-6b3e7779"]]);export{pe as default};
