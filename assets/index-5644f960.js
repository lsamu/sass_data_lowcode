import{d as O,j as T,k as G,r as S,a as d,o as N,c as A,i as V,b as e,w as l,F as L,f as oe,h as B,u as t,e as C,t as ne,l as Oe,n as q,q as ee,s as te,v as Ae,x as be,y as ge,z as ye,m as Ve,A as Ie,B as ze,C as J,D as Y,E as Le,G as Te,H as Je,I as Me,J as Re,K as ae,g as he,L as we,M as Ge,N as Z,O as qe,P as He,Q as We,R as Ye,S as Xe,T as Ke,U as Qe,V as me}from"./index-0d818d12.js";const Ze={class:"custom-tree-node"},el=C("span",null,[C("a",null," 复制 "),C("a",null," 删除 ")],-1),ll={class:"dialog-footer"},tl=O({__name:"event",setup(v){const o=T(),a=G(()=>{const s=o.that.component.eventsList;return s||[]}),n=G(()=>{const s=o.that.component.events;if(!s)return[];const u=[];for(const h in s)u.push({name:h,value:s[h]});return u}),f=S({value:null,data:[]}),c=s=>{o.that.component.events[s]=""},b=S({visible:!1,form:{}}),r=s=>{b.visible=!0},_=S({input:"",data:[{label:"onChange",script:"console.log('123')"},{label:"onChange2",script:"console.log('456')"}],defaultProps:{children:"children",label:"label"}}),p=s=>{};return(s,u)=>{const h=d("el-option"),w=d("el-select"),$=d("el-table-column"),i=d("el-button"),x=d("el-table"),y=d("el-input"),j=d("el-tree"),D=d("el-col"),I=d("el-form-item"),U=d("box-ace"),z=d("el-row"),F=d("el-form"),g=d("el-dialog");return N(),A(L,null,[V(" 新建事件: "),e(w,{modelValue:t(f).value,"onUpdate:modelValue":u[0]||(u[0]=k=>t(f).value=k),placeholder:"组件自带事件",onChange:c},{default:l(()=>[(N(!0),A(L,null,oe(t(a),(k,P)=>(N(),B(h,{key:P,label:k.name,value:k.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(x,{data:t(n)},{default:l(()=>[e($,{prop:"name",label:"事件"}),e($,{prop:"name",label:"操作",width:"180"},{default:l(k=>[e(i,{type:"primary",onClick:P=>r(k.row)},{default:l(()=>[V("绑定")]),_:2},1032,["onClick"]),e(i,{type:"danger"},{default:l(()=>[V("删除")]),_:1})]),_:1})]),_:1},8,["data"]),e(g,{modelValue:t(b).visible,"onUpdate:modelValue":u[7]||(u[7]=k=>t(b).visible=k),title:"事件设置",width:"60%",draggable:""},{footer:l(()=>[C("span",ll,[e(i,{onClick:u[4]||(u[4]=k=>t(b).visible=!1)},{default:l(()=>[V("取消")]),_:1}),e(i,{type:"success",onClick:u[5]||(u[5]=k=>t(b).visible=!1)},{default:l(()=>[V("保存")]),_:1}),e(i,{type:"primary",onClick:u[6]||(u[6]=k=>t(b).visible=!1)},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(F,{model:t(b).form,"label-width":"120px"},{default:l(()=>[e(z,null,{default:l(()=>[e(D,{span:4},{default:l(()=>[e(y,{modelValue:t(_).input,"onUpdate:modelValue":u[1]||(u[1]=k=>t(_).input=k),placeholder:"Please input"},{append:l(()=>[V("新建")]),_:1},8,["modelValue"]),e(j,{data:t(_).data,props:t(_).defaultProps,onNodeClick:p},{default:l(({node:k,data:P})=>[C("span",Ze,[C("span",null,ne(k.label),1),el])]),_:1},8,["data","props"])]),_:1}),e(D,{span:20},{default:l(()=>[e(I,{label:"函数名称"},{default:l(()=>[e(y,{modelValue:t(b).form.name,"onUpdate:modelValue":u[2]||(u[2]=k=>t(b).form.name=k)},null,8,["modelValue"])]),_:1}),e(I,{label:"脚本内容"},{default:l(()=>[e(U,{modelValue:t(b).form.script,"onUpdate:modelValue":u[3]||(u[3]=k=>t(b).form.script=k)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}}),ol=O({__name:"style",setup(v){const o=S({form:{},activeName:"first"});return(a,n)=>{const f=d("box-ace"),c=d("el-radio-button"),b=d("el-radio-group"),r=d("el-form-item"),_=d("el-input-number"),p=d("el-collapse-item"),s=d("el-select"),u=d("el-color-picker"),h=d("el-slider"),w=d("el-collapse"),$=d("el-form");return N(),B($,{model:t(o).form,"label-width":"60px"},{default:l(()=>[e(f,{lang:"css",value:t(o).form.style,"onUpdate:value":n[0]||(n[0]=i=>t(o).form.style=i)},null,8,["value"]),e(w,{modelValue:t(o).activeName,"onUpdate:modelValue":n[22]||(n[22]=i=>t(o).activeName=i),accordion:""},{default:l(()=>[e(p,{title:"布局",name:"1"},{default:l(()=>[e(r,{label:"布局模式"},{default:l(()=>[e(b,{modelValue:t(o).form.display,"onUpdate:modelValue":n[1]||(n[1]=i=>t(o).form.display=i)},{default:l(()=>[e(c,{label:"内联"}),e(c,{label:"弹性"}),e(c,{label:"块级"}),e(c,{label:"内联块"}),e(c,{label:"隐藏"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"宽度"},{default:l(()=>[e(_,{"controls-position":"right",modelValue:t(o).form.width,"onUpdate:modelValue":n[2]||(n[2]=i=>t(o).form.width=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"高度"},{default:l(()=>[e(_,{"controls-position":"right",modelValue:t(o).form.height,"onUpdate:modelValue":n[3]||(n[3]=i=>t(o).form.height=i)},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{title:"文字",name:"2"},{default:l(()=>[e(r,{label:"字号"},{default:l(()=>[e(_,{"controls-position":"right",modelValue:t(o).form.fontSize,"onUpdate:modelValue":n[4]||(n[4]=i=>t(o).form.fontSize=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"行高"},{default:l(()=>[e(_,{"controls-position":"right",modelValue:t(o).form.lineHeight,"onUpdate:modelValue":n[5]||(n[5]=i=>t(o).form.lineHeight=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"字重"},{default:l(()=>[e(s,{modelValue:t(o).form.weight,"onUpdate:modelValue":n[6]||(n[6]=i=>t(o).form.weight=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"字体"},{default:l(()=>[e(s,{modelValue:t(o).form.font,"onUpdate:modelValue":n[7]||(n[7]=i=>t(o).form.font=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"颜色"},{default:l(()=>[e(u,{modelValue:t(o).form.color,"onUpdate:modelValue":n[8]||(n[8]=i=>t(o).form.color=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"对齐"},{default:l(()=>[e(b,{modelValue:t(o).form.align,"onUpdate:modelValue":n[9]||(n[9]=i=>t(o).form.align=i)},{default:l(()=>[e(c,{label:"左对齐"}),e(c,{label:"居中对齐"}),e(c,{label:"右对齐"}),e(c,{label:"两端对齐"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"透明度"},{default:l(()=>[e(h,{modelValue:t(o).form.opt,"onUpdate:modelValue":n[10]||(n[10]=i=>t(o).form.opt=i)},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{title:"背景",name:"3"},{default:l(()=>[e(r,{label:"背景"},{default:l(()=>[e(u,{modelValue:t(o).form.background,"onUpdate:modelValue":n[11]||(n[11]=i=>t(o).form.background=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"透明度"},{default:l(()=>[e(h,{modelValue:t(o).form.backgroundopt,"onUpdate:modelValue":n[12]||(n[12]=i=>t(o).form.backgroundopt=i)},null,8,["modelValue"])]),_:1})]),_:1}),e(p,{title:"位置",name:"4"},{default:l(()=>[e(r,{label:"定位"},{default:l(()=>[e(s,{modelValue:t(o).form.position,"onUpdate:modelValue":n[13]||(n[13]=i=>t(o).form.position=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"zIndex"},{default:l(()=>[e(_,{"controls-position":"right",modelValue:t(o).form.zIndex,"onUpdate:modelValue":n[14]||(n[14]=i=>t(o).form.zIndex=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"浮动方向"},{default:l(()=>[e(b,{modelValue:t(o).form.float,"onUpdate:modelValue":n[15]||(n[15]=i=>t(o).form.float=i)},{default:l(()=>[e(c,{label:"不浮动"}),e(c,{label:"左浮动"}),e(c,{label:"右浮动"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"清除位置"},{default:l(()=>[e(b,{modelValue:t(o).form.clear,"onUpdate:modelValue":n[16]||(n[16]=i=>t(o).form.clear=i)},{default:l(()=>[e(c,{label:"不清除"}),e(c,{label:"左清除"}),e(c,{label:"右清除"}),e(c,{label:"两边清除"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(p,{title:"边框",name:"5"},{default:l(()=>[e(r,{label:"圆角"},{default:l(()=>[e(h,{modelValue:t(o).form.biad,"onUpdate:modelValue":n[17]||(n[17]=i=>t(o).form.biad=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"边框"},{default:l(()=>[e(_,{"controls-position":"right",modelValue:t(o).form.border1,"onUpdate:modelValue":n[18]||(n[18]=i=>t(o).form.border1=i)},null,8,["modelValue"]),e(u,{modelValue:t(o).form.border2,"onUpdate:modelValue":n[19]||(n[19]=i=>t(o).form.border2=i)},null,8,["modelValue"]),e(s,{modelValue:t(o).form.border3,"onUpdate:modelValue":n[20]||(n[20]=i=>t(o).form.border3=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"阴影"},{default:l(()=>[e(u,{modelValue:t(o).form.slod,"onUpdate:modelValue":n[21]||(n[21]=i=>t(o).form.slod=i)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["model"])}}}),nl=O({__name:"prop",setup(v){const o=T();S({com:null});const a=G(()=>"Option"+o.that.component.componentName);return(n,f)=>{const c=d("el-input"),b=d("el-form-item"),r=d("el-switch"),_=d("el-form");return N(),A(L,null,[e(_,{model:t(o).that.component,"label-width":"80px"},{default:l(()=>[e(b,{label:"编号"},{default:l(()=>[e(c,{modelValue:t(o).that.component.id,"onUpdate:modelValue":f[0]||(f[0]=p=>t(o).that.component.id=p),readonly:"",disabled:""},null,8,["modelValue"])]),_:1}),e(b,{label:"名称"},{default:l(()=>[e(c,{modelValue:t(o).that.component.title,"onUpdate:modelValue":f[1]||(f[1]=p=>t(o).that.component.title=p)},null,8,["modelValue"])]),_:1}),e(b,{label:"锁定"},{default:l(()=>[e(r,{modelValue:t(o).that.component.locked,"onUpdate:modelValue":f[2]||(f[2]=p=>t(o).that.component.locked=p)},null,8,["modelValue"])]),_:1}),e(b,{label:"隐藏"},{default:l(()=>[e(r,{modelValue:t(o).that.component.hidden,"onUpdate:modelValue":f[3]||(f[3]=p=>t(o).that.component.hidden=p)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),(N(),B(Oe(t(a)),{value:t(o).that.component,"onUpdate:value":f[4]||(f[4]=p=>t(o).that.component=p)},null,40,["value"]))],64)}}}),al=["onClick"],dl={class:"context-menu"},sl={class:"el-dropdown-link"},il=O({__name:"outline",setup(v){const o=T(),a=q(),n=S({activeName:"first",input:"",data:[],defaultProps:{children:"children",label:"title"}});ee(()=>{n.data=o.project.components});const f=c=>{o.setComponent(c)};return(c,b)=>{const r=d("el-input"),_=d("el-icon"),p=d("el-dropdown-item"),s=d("el-dropdown-menu"),u=d("el-dropdown"),h=d("el-tree");return N(),A(L,null,[e(r,{modelValue:t(n).input,"onUpdate:modelValue":b[0]||(b[0]=w=>t(n).input=w),placeholder:"搜索","suffix-icon":t(te)},null,8,["modelValue","suffix-icon"]),e(h,{ref_key:"refTree",ref:a,data:t(n).data,props:t(n).defaultProps,onNodeClick:f,"highlight-current":"","node-key":"id","expand-on-click-node":!1},{default:l(({node:w,data:$})=>[C("span",{style:{width:"100%"},class:"custom-tree-node",onClick:i=>f($)},[C("span",null,ne(w.label),1),C("span",dl,[e(u,{trigger:"click"},{dropdown:l(()=>[e(s,null,{default:l(()=>[e(p,{icon:t(Ae),command:"addInterface"},{default:l(()=>[V("设置")]),_:1},8,["icon"]),e(p,{icon:t(be),command:"edit"},{default:l(()=>[V("编辑")]),_:1},8,["icon"]),e(p,{icon:t(ge),command:"copy"},{default:l(()=>[V("复制")]),_:1},8,["icon"]),e(p,{icon:t(ye),command:"delete"},{default:l(()=>[V("删除")]),_:1},8,["icon"])]),_:1})]),default:l(()=>[C("span",sl,[e(_,{size:15},{default:l(()=>[e(t(Ve))]),_:1})])]),_:1})])],8,al)]),_:1},8,["data","props"])],64)}}});const rl=C("div",{style:{padding:"10px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":"12px"}}," 典型表单 ",-1),ul=C("div",{style:{padding:"10px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":"12px"}}," 注册表单 ",-1),pl=C("div",{style:{padding:"10px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":"12px"}}," 高级表单 ",-1),ml=C("div",{style:{padding:"10px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","font-size":"12px"}}," 高级表格 ",-1),cl=O({__name:"component",setup(v){const o=T(),a=S({input:"",activeName:"first"}),n=S({activeName:"fisrt0"});S({activeName:"1"});const f=[{title:"容器",icon:"",children:[{title:"表单",componentName:"BoxForm",hidden:!1,locked:!1,props:{option:{title:"表单",labelWidth:120,span:24,toolbar:{visible:!0,location:"center",columns:[]}}},events:{},children:[{title:"文本框",componentName:"el-input",hidden:!1,locked:!1,props:{label:"字段",prop:"title"},events:{}}]},{title:"选项卡",componentName:"BoxTabs",hidden:!1,locked:!1,props:{option:{}},events:{},children:[{title:"选项卡",componentName:"BoxTabsItem",hidden:!1,locked:!1,props:{label:"选项卡"},events:{},children:[]}]},{title:"栅格",componentName:"BoxGrid",hidden:!1,locked:!1,props:{proportion:"24"},events:{},children:[]},{title:"折叠",componentName:"BoxCollapse",hidden:!1,locked:!1,props:{option:{}},events:{},children:[{title:"折叠项",componentName:"BoxCollapseItem",hidden:!1,locked:!1,props:{label:"折叠项"},children:[]}]},{title:"行内",componentName:"BoxInline",hidden:!1,locked:!1,props:{},events:{},children:[]},{title:"分割线",componentName:"BoxDivider",hidden:!1,locked:!1,props:{option:{}},events:{},children:[]},{title:"网址",componentName:"BoxIframe",hidden:!1,locked:!1,props:{option:{src:"https://www.baidu.com"}},events:{},children:[]}]},{title:"基础",icon:"",children:[{title:"按钮",componentName:"BoxButton",hidden:!1,locked:!1,props:{type:"primary",value:"按钮"},eventsList:[],events:{}},{title:"单行文本",componentName:"ElInput",hidden:!1,locked:!1,props:{},eventsList:[{name:"change",desc:"仅当 modelValue 改变时，当输入框失去焦点或用户按Enter时触发"}],events:{}},{title:"多行文本",componentName:"ElInput",hidden:!1,locked:!1,props:{type:"textarea",rows:5},events:{}},{title:"文本数字",componentName:"ElInput",hidden:!1,locked:!1,props:{type:"number"},events:{}},{title:"数字",componentName:"ElInputNumber",hidden:!1,locked:!1,value:1,props:{},events:{}},{title:"下拉",componentName:"BoxSelect",hidden:!1,locked:!1,props:{},events:{}},{title:"单选",componentName:"BoxRadio",hidden:!1,locked:!1,props:{},events:{}},{title:"多选",componentName:"BoxCheckbox",hidden:!1,locked:!1,props:{},events:{}},{title:"开关",componentName:"ElSwitch",hidden:!1,locked:!1,props:{},events:{}},{title:"上传",componentName:"BoxUpload",hidden:!1,locked:!1,props:{},events:{}},{title:"级联",componentName:"ElCascader",hidden:!1,locked:!1,props:{},events:{}},{title:"日期",componentName:"ElDatePicker",hidden:!1,locked:!1,props:{},events:{}},{title:"评分",componentName:"ElRate",hidden:!1,locked:!1,props:{},events:{}},{title:"树形下拉",componentName:"ElTreeSelect",hidden:!1,locked:!1,props:{},events:{}},{title:"富文本",componentName:"BoxEditor",hidden:!1,locked:!1,props:{},events:{}},{title:"提示",componentName:"BoxAlert",hidden:!1,locked:!1,props:{option:{title:" <div>需要注意的事项:</div>",description:`<div>1、登录后请及时检查对应的姓名和手机号是否正确</div>
            <div>2、卡片式每页显示一个问题，列表式一页显示全部的问题</div>
            <div>3、评测问卷提交保存后就无法再次做答了，请慎重对待每一个问题</div>`}},events:{}},{title:"选择人员",componentName:"BoxUser",hidden:!1,locked:!1,props:{},events:{}},{title:"选择组织",componentName:"BoxOrg",hidden:!1,locked:!1,props:{},events:{}},{title:"签名",componentName:"BoxSign",hidden:!1,locked:!1,props:{},events:{}}]},{title:"高级",icon:"",children:[{title:"高级表格",componentName:"BoxDatagrid",hidden:!1,locked:!1,props:{option:{size:"default",ext:{visible:!0,title:"操作",width:180,fixed:"right",columns:[{label:"编辑",name:"el-button",props:{type:"primary"}}]},columns:[],toolbar:{visible:!0,left:{visible:!0,columns:[{label:"新建",name:"el-button",props:{type:"primary"}}]},right:{visible:!0,columns:[]}},page:{visible:!0,location:"buttom",total:100,pageIndex:1,pageSize:20,pageSizes:[10,20,50,100,500],layout:"total, sizes, prev, pager, next, jumper"}},data:[]}},{title:"树",componentName:"BoxTree",hidden:!1,locked:!1,props:{option:{toolbar:{visible:!0,columns:[]}}}},{title:"对话框",componentName:"BoxDialog",hidden:!1,locked:!1,props:{},children:[]},{title:"抽屉",componentName:"BoxDrawer",hidden:!1,locked:!1,props:{},children:[]},{title:"日历",componentName:"ElCalendar",hidden:!1,locked:!1,props:{},children:[]},{title:"看板",componentName:"BoxTodo",hidden:!1,locked:!1,props:{},children:[]},{title:"甘特图",componentName:"BoxGantt",hidden:!1,locked:!1,props:{},children:[]}]},{title:"图表",icon:"",children:[{title:"面积图",componentName:"BoxEchartArea",hidden:!1,locked:!1,props:{}},{title:"条形图",componentName:"BoxEchartBar",hidden:!1,locked:!1,props:{}},{title:"柱状图",componentName:"BoxEchartColumn",hidden:!1,locked:!1,props:{}},{title:"环形图",componentName:"BoxEchartDonut",hidden:!1,locked:!1,props:{}},{title:"折线图",componentName:"BoxEchartLine",hidden:!1,locked:!1,props:{}},{title:"饼图",componentName:"BoxEchartPie",hidden:!1,locked:!1,props:{}}]}],c=()=>({span:12}),b=_=>{const p=JSON.parse(JSON.stringify(_));o.addComponent(p)},r=_=>{const p=ze(),s=JSON.parse(JSON.stringify(_));return s.id=p,s.name=_.componentName+"_"+p,o.setComponent(s),s};return(_,p)=>{const s=d("el-input"),u=d("el-button"),h=d("el-col"),w=d("el-collapse-item"),$=d("el-collapse"),i=d("el-tab-pane"),x=d("el-image"),y=d("el-card"),j=d("el-row"),D=d("el-scrollbar"),I=d("el-tabs");return N(),B(I,{modelValue:t(a).activeName,"onUpdate:modelValue":p[4]||(p[4]=U=>t(a).activeName=U)},{default:l(()=>[e(i,{label:"组件",name:"first"},{default:l(()=>[e(s,{modelValue:t(a).input,"onUpdate:modelValue":p[0]||(p[0]=U=>t(a).input=U),placeholder:"搜索","suffix-icon":t(te)},null,8,["modelValue","suffix-icon"]),e($,{modelValue:t(n).activeName,"onUpdate:modelValue":p[1]||(p[1]=U=>t(n).activeName=U),accordion:""},{default:l(()=>[(N(),A(L,null,oe(f,(U,z)=>e(w,{title:U.title,name:"fisrt"+z},{default:l(()=>[e(t(Ie),{tag:"el-row","component-data":c,modelValue:U.children,"onUpdate:modelValue":F=>U.children=F,group:{name:"components",pull:"clone",put:!1},"item-key":"componentName",sort:!1,clone:r},{item:l(({element:F})=>[e(h,{span:12},{default:l(()=>[e(u,{onClick:g=>b(F),style:{width:"95%",margin:"5px",border:"1px dashed #409eff"},title:F.componentName},{default:l(()=>[V(ne(F.title),1)]),_:2},1032,["onClick","title"])]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1032,["title","name"])),64))]),_:1},8,["modelValue"])]),_:1}),e(i,{label:"模板",name:"first2"},{default:l(()=>[e(s,{modelValue:t(a).input,"onUpdate:modelValue":p[2]||(p[2]=U=>t(a).input=U),placeholder:"搜索","suffix-icon":t(te)},null,8,["modelValue","suffix-icon"]),e(D,null,{default:l(()=>[e(j,null,{default:l(()=>[e(h,{span:12},{default:l(()=>[e(y,{"body-style":{padding:"0px"}},{default:l(()=>[e(x,{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",fit:"fit"}),rl]),_:1})]),_:1}),e(h,{span:12},{default:l(()=>[e(y,{"body-style":{padding:"0px"}},{default:l(()=>[e(x,{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",fit:"fit"}),ul]),_:1})]),_:1}),e(h,{span:12},{default:l(()=>[e(y,{"body-style":{padding:"0px"}},{default:l(()=>[e(x,{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",fit:"fit"}),pl]),_:1})]),_:1}),e(h,{span:12},{default:l(()=>[e(y,{"body-style":{padding:"0px"}},{default:l(()=>[e(x,{src:"https://shadow.elemecdn.com/app/element/hamburger.9cf7b091-55e9-11e9-a976-7f4d0b07eef6.png",fit:"fit"}),ml]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(i,{label:"自定义",name:"first3"},{default:l(()=>[e(s,{modelValue:t(a).input,"onUpdate:modelValue":p[3]||(p[3]=U=>t(a).input=U),placeholder:"搜索","suffix-icon":t(te)},null,8,["modelValue","suffix-icon"])]),_:1})]),_:1},8,["modelValue"])}}}),fl={style:{width:"100%"},class:"custom-tree-node"},_l={class:"context-menu"},vl={class:"dialog-footer"},bl={class:"dialog-footer"},gl={class:"dialog-footer"},yl={class:"dialog-footer"},Vl={class:"dialog-footer"},hl=O({__name:"index",setup(v){const o=T(),a=S({input:"",data:[],defaultProps:{children:"children",label:"label"}}),n=S({dialog:{visible:!1,title:"新建接口"},active:"first0",form:{},defaultForm:{label:"新接口",type:"interface",auto:!1,method:"GET",timeout:60,params:[],headers:[],script:{before:"",after:""}},selectedNode:null}),f=F=>{n.dialog.visible=!0,n.dialog.title="新建接口",n.form=Object.assign({},n.defaultForm),n.selectedNode=F,Y(()=>{})},c=F=>{n.dialog.visible=!0,n.dialog.title="编辑接口",n.form=Object.assign({},F),Y(()=>{})},b=F=>{o.copyDataSource(F)},r=F=>{o.deleteDataSource(F)},_=(F,g)=>{switch(F){case"add":y();break;case"edit":j(g);break;case"delete":I(g);break;case"copy":D(g);break;case"addData":f(g);break;case"editData":c(g);break;case"deleteData":r(g);break;case"copyData":b(g);break;case"viewData":z.dialog.visible=!0,z.columns.push({prop:"title",label:"title"}),z.data.push({title:"我是标题1"});break}},p=()=>{n.form.params.push({key:"键"})},s=()=>{n.form.headers.push({key:"键"})};S({});const u=S({visible:!1,form:{content:""}}),h=S({visible:!1,form:{content:""}}),w=()=>{u.visible=!0},$=()=>{h.visible=!0},i=()=>{n.form&&n.form.id?o.editDataSource(n.form):o.addDataSourceParent(n.selectedNode,n.form),n.selectedNode=null,n.dialog.visible=!1},x=S({dialog:{title:"新建分组",visible:!1},form:{}}),y=()=>{x.dialog.visible=!0,Y(()=>{x.form={type:"group",children:[]}})},j=F=>{x.dialog.title="编辑分组",x.dialog.visible=!0,Y(()=>{const g=Object.assign({},F);x.form=g})},D=F=>{o.copyDataSource(F)},I=F=>{o.deleteDataSource(F)},U=()=>{x.form&&x.form.id?o.editDataSource(x.form):o.addDataSource(x.form),x.dialog.visible=!1},z=S({dialog:{visible:!1},data:[],columns:[]});return(F,g)=>{const k=d("el-button"),P=d("el-input"),Ce=d("el-icon"),M=d("el-dropdown-item"),Ue=d("el-dropdown-menu"),Ne=d("el-dropdown"),Se=d("el-tree"),H=d("el-form-item"),le=d("el-form"),K=d("el-dialog"),ie=d("el-col"),$e=d("el-option"),Ee=d("el-select"),R=d("el-table-column"),re=d("el-table"),W=d("el-tab-pane"),Q=d("box-ace"),Fe=d("el-switch"),De=d("el-tabs"),je=d("el-row"),Be=d("el-pagination");return N(),A(L,null,[e(k,{type:"primary",icon:"check",onClick:w},{default:l(()=>[V("导入")]),_:1}),e(k,{type:"primary",icon:"check",onClick:$},{default:l(()=>[V("导出")]),_:1}),e(P,{modelValue:t(a).input,"onUpdate:modelValue":g[0]||(g[0]=m=>t(a).input=m),placeholder:"搜索"},{prepend:l(()=>[e(k,{icon:"plus",onClick:y})]),append:l(()=>[e(k,{icon:"search"})]),_:1},8,["modelValue"]),e(Se,{data:t(o).project.dataSource,props:t(a).defaultProps,"expand-on-click-node":!1},{default:l(({node:m,data:E})=>[C("span",fl,[C("span",null,ne(m.label),1),C("span",_l,[e(Ne,{trigger:"click",onCommand:Pe=>_(Pe,E)},{dropdown:l(()=>[e(Ue,null,{default:l(()=>[E.type=="group"?(N(),B(M,{key:0,icon:"plus",command:"add",divided:""},{default:l(()=>[V("添加")]),_:1})):J("",!0),E.type=="group"?(N(),B(M,{key:1,icon:t(be),command:"edit"},{default:l(()=>[V("编辑")]),_:1},8,["icon"])):J("",!0),E.type=="group"?(N(),B(M,{key:2,icon:t(ge),command:"copy"},{default:l(()=>[V("复制")]),_:1},8,["icon"])):J("",!0),E.type=="group"?(N(),B(M,{key:3,icon:t(ye),command:"delete"},{default:l(()=>[V("删除")]),_:1},8,["icon"])):J("",!0),E.type=="group"?(N(),B(M,{key:4,icon:"plus",command:"addData",divided:""},{default:l(()=>[V("添加接口")]),_:1})):J("",!0),E.type=="interface"?(N(),B(M,{key:5,icon:"edit",command:"editData"},{default:l(()=>[V("编辑接口")]),_:1})):J("",!0),E.type=="interface"?(N(),B(M,{key:6,icon:"document-copy",command:"copyData"},{default:l(()=>[V("复制接口")]),_:1})):J("",!0),E.type=="interface"?(N(),B(M,{key:7,icon:"delete",command:"deleteData"},{default:l(()=>[V("删除接口")]),_:1})):J("",!0),E.type=="interface"?(N(),B(M,{key:8,icon:"view",command:"viewData"},{default:l(()=>[V("查看数据")]),_:1})):J("",!0)]),_:2},1024)]),default:l(()=>[C("span",null,[e(Ce,{size:15},{default:l(()=>[e(t(Ve))]),_:1})])]),_:2},1032,["onCommand"])])])]),_:1},8,["data","props"]),e(K,{modelValue:t(x).dialog.visible,"onUpdate:modelValue":g[3]||(g[3]=m=>t(x).dialog.visible=m),title:t(x).dialog.title,width:"40%",draggable:""},{footer:l(()=>[C("span",vl,[e(k,{onClick:g[2]||(g[2]=m=>t(x).dialog.visible=!1)},{default:l(()=>[V("取消")]),_:1}),e(k,{type:"primary",onClick:U},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(le,{model:t(x).form,"label-width":"80px"},{default:l(()=>[e(H,{label:"名称"},{default:l(()=>[e(P,{modelValue:t(x).form.label,"onUpdate:modelValue":g[1]||(g[1]=m=>t(x).form.label=m)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(K,{modelValue:t(n).dialog.visible,"onUpdate:modelValue":g[14]||(g[14]=m=>t(n).dialog.visible=m),title:t(n).dialog.title,width:"60%",draggable:""},{footer:l(()=>[C("span",bl,[e(k,{onClick:g[13]||(g[13]=m=>t(n).dialog.visible=!1)},{default:l(()=>[V("取消")]),_:1}),e(k,{type:"primary",onClick:i},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(le,{model:t(n).form,"label-width":"80px"},{default:l(()=>[e(je,null,{default:l(()=>[e(ie,null,{default:l(()=>[e(H,{label:"名称"},{default:l(()=>[e(P,{modelValue:t(n).form.label,"onUpdate:modelValue":g[4]||(g[4]=m=>t(n).form.label=m)},null,8,["modelValue"])]),_:1})]),_:1}),e(ie,null,{default:l(()=>[e(H,{label:"地址"},{default:l(()=>[e(P,{placeholder:"请输入请求URL",modelValue:t(n).form.url,"onUpdate:modelValue":g[6]||(g[6]=m=>t(n).form.url=m)},{prepend:l(()=>[e(Ee,{modelValue:t(n).form.method,"onUpdate:modelValue":g[5]||(g[5]=m=>t(n).form.method=m),style:{width:"100px"}},{default:l(()=>[(N(),A(L,null,oe(["GET","POST","PUT","DELETE"],(m,E)=>e($e,{key:E,label:m,value:m},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(ie,null,{default:l(()=>[e(De,{modelValue:t(n).active,"onUpdate:modelValue":g[12]||(g[12]=m=>t(n).active=m),type:"card"},{default:l(()=>[e(W,{name:"first0",label:"参数"},{default:l(()=>[e(re,{data:t(n).form.params,style:{width:"100%"}},{default:l(()=>[e(R,{prop:"key",label:"键"},{default:l(m=>[e(P,{modelValue:m.row.key,"onUpdate:modelValue":E=>m.row.key=E,placeholder:"请输入键"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(R,{prop:"value",label:"值"},{default:l(m=>[e(P,{modelValue:m.row.value,"onUpdate:modelValue":E=>m.row.value=E,placeholder:"请输入值"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(R,{prop:"desc",label:"说明"},{default:l(m=>[e(P,{modelValue:m.row.value,"onUpdate:modelValue":E=>m.row.value=E,placeholder:"请输入说明"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(R,{prop:"key",label:"操作",width:"140"},{default:l(m=>[e(k,{type:"primary"},{default:l(()=>[V("移动")]),_:1}),e(k,{type:"danger"},{default:l(()=>[V("删除")]),_:1})]),_:1})]),_:1},8,["data"]),e(k,{type:"primary",onClick:p},{default:l(()=>[V("添加")]),_:1})]),_:1}),e(W,{name:"first2",label:"Header"},{default:l(()=>[e(re,{data:t(n).form.headers,style:{width:"100%"}},{default:l(()=>[e(R,{prop:"key",label:"键"},{default:l(m=>[e(P,{modelValue:m.row.key,"onUpdate:modelValue":E=>m.row.key=E,placeholder:"请输入键"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(R,{prop:"value",label:"值"},{default:l(m=>[e(P,{modelValue:m.row.value,"onUpdate:modelValue":E=>m.row.value=E,placeholder:"请输入值"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(R,{prop:"desc",label:"说明"},{default:l(m=>[e(P,{modelValue:m.row.value,"onUpdate:modelValue":E=>m.row.value=E,placeholder:"请输入说明"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(R,{prop:"key",label:"操作",width:"140"},{default:l(m=>[e(k,{type:"primary"},{default:l(()=>[V("移动")]),_:1}),e(k,{type:"danger"},{default:l(()=>[V("删除")]),_:1})]),_:1})]),_:1},8,["data"]),e(k,{type:"primary",onClick:s},{default:l(()=>[V("添加")]),_:1})]),_:1}),e(W,{name:"first3",label:"Body"},{default:l(()=>[e(Q,{lang:"json",value:t(n).form.body,"onUpdate:value":g[7]||(g[7]=m=>t(n).form.body=m)},null,8,["value"])]),_:1}),e(W,{name:"first4",label:"接口描述"},{default:l(()=>[e(P,{type:"textarea",rows:10})]),_:1}),e(W,{name:"first5",label:"请求前脚本"},{default:l(()=>[e(Q,{value:t(n).form.script.before,"onUpdate:value":g[8]||(g[8]=m=>t(n).form.script.before=m)},null,8,["value"])]),_:1}),e(W,{name:"first6",label:"请求后脚本"},{default:l(()=>[e(Q,{value:t(n).form.script.after,"onUpdate:value":g[9]||(g[9]=m=>t(n).form.script.after=m)},null,8,["value"])]),_:1}),e(W,{name:"first7",label:"设置"},{default:l(()=>[e(H,{label:"是否自动请求"},{default:l(()=>[e(Fe,{modelValue:t(n).form.auto,"onUpdate:modelValue":g[10]||(g[10]=m=>t(n).form.auto=m)},null,8,["modelValue"])]),_:1}),e(H,{label:"超时时间"},{default:l(()=>[e(P,{modelValue:t(n).form.timeout,"onUpdate:modelValue":g[11]||(g[11]=m=>t(n).form.timeout=m),placeholder:"请输入超时时间"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(K,{modelValue:t(u).visible,"onUpdate:modelValue":g[19]||(g[19]=m=>t(u).visible=m),title:"导入",width:"60%",draggable:""},{footer:l(()=>[C("span",gl,[e(k,{onClick:g[16]||(g[16]=m=>t(u).visible=!1)},{default:l(()=>[V("取消")]),_:1}),e(k,{type:"primary",onClick:g[17]||(g[17]=m=>t(u).visible=!1)},{default:l(()=>[V("校验")]),_:1}),e(k,{type:"primary",onClick:g[18]||(g[18]=m=>t(u).visible=!1)},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(le,{model:t(u).form,"label-width":"100px"},{default:l(()=>[e(H,{label:"内容"},{default:l(()=>[e(Q,{lang:"json",value:t(u).form.content,"onUpdate:value":g[15]||(g[15]=m=>t(u).form.content=m)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(K,{modelValue:t(h).visible,"onUpdate:modelValue":g[23]||(g[23]=m=>t(h).visible=m),title:"导出",width:"60%",draggable:""},{footer:l(()=>[C("span",yl,[e(k,{type:"primary",onClick:g[21]||(g[21]=m=>t(h).visible=!1)},{default:l(()=>[V("将代码复制剪贴板")]),_:1}),e(k,{type:"primary",onClick:g[22]||(g[22]=m=>t(h).visible=!1)},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(le,{model:t(h).form,"label-width":"100px"},{default:l(()=>[e(H,{label:"内容"},{default:l(()=>[e(Q,{lang:"json",value:t(h).form.content,"onUpdate:value":g[20]||(g[20]=m=>t(h).form.content=m)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(K,{modelValue:t(z).dialog.visible,"onUpdate:modelValue":g[25]||(g[25]=m=>t(z).dialog.visible=m),title:"查看数据",width:"60%",draggable:""},{footer:l(()=>[C("span",Vl,[e(k,{type:"primary",onClick:g[24]||(g[24]=m=>t(z).dialog.visible=!1)},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(re,{data:t(z).data,style:{width:"100%"}},{default:l(()=>[(N(!0),A(L,null,oe(t(z).columns,(m,E)=>(N(),B(R,{prop:m.prop,label:m.label,key:E},null,8,["prop","label"]))),128))]),_:1},8,["data"]),e(Be,{background:"",layout:"prev, pager, next",total:1e3})]),_:1},8,["modelValue"])],64)}}});const wl=O({__name:"data-source",setup(v){return S({activeName:"first1"}),(o,a)=>(N(),B(hl))}});function de(v){return Le()?(Te(v),!0):!1}function X(v){return typeof v=="function"?v():t(v)}const se=typeof window<"u",pe=()=>{},ce=kl();function kl(){var v;return se&&((v=window==null?void 0:window.navigator)==null?void 0:v.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function xl(...v){if(v.length!==1)return Je(...v);const o=v[0];return typeof o=="function"?Me(Re(()=>({get:o,set:pe}))):q(o)}function ue(v){var o;const a=X(v);return(o=a==null?void 0:a.$el)!=null?o:a}const Cl=se?window:void 0,Ul=se?window.document:void 0;function fe(...v){let o,a,n,f;if(typeof v[0]=="string"||Array.isArray(v[0])?([a,n,f]=v,o=Cl):[o,a,n,f]=v,!o)return pe;Array.isArray(a)||(a=[a]),Array.isArray(n)||(n=[n]);const c=[],b=()=>{c.forEach(s=>s()),c.length=0},r=(s,u,h,w)=>(s.addEventListener(u,h,w),()=>s.removeEventListener(u,h,w)),_=ae(()=>[ue(o),X(f)],([s,u])=>{b(),s&&c.push(...a.flatMap(h=>n.map(w=>r(s,h,w,u))))},{immediate:!0,flush:"post"}),p=()=>{_(),b()};return de(p),p}function Nl(){const v=q(!1);return he()&&we(()=>{v.value=!0}),v}function Sl(v){const o=Nl();return G(()=>(o.value,!!v()))}const _e=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function ke(v,o={}){const{document:a=Ul,autoExit:n=!1}=o,f=G(()=>{var y;return(y=ue(v))!=null?y:a==null?void 0:a.querySelector("html")}),c=q(!1),b=G(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(y=>a&&y in a||f.value&&y in f.value)),r=G(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(y=>a&&y in a||f.value&&y in f.value)),_=G(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(y=>a&&y in a||f.value&&y in f.value)),p=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(y=>a&&y in a),s=Sl(()=>f.value&&a&&b.value!==void 0&&r.value!==void 0&&_.value!==void 0),u=()=>p?(a==null?void 0:a[p])===f.value:!1,h=()=>{if(_.value){if(a&&a[_.value]!=null)return a[_.value];{const y=f.value;if((y==null?void 0:y[_.value])!=null)return!!y[_.value]}}return!1};async function w(){if(!(!s.value||!c.value)){if(r.value)if((a==null?void 0:a[r.value])!=null)await a[r.value]();else{const y=f.value;(y==null?void 0:y[r.value])!=null&&await y[r.value]()}c.value=!1}}async function $(){if(!s.value||c.value)return;h()&&await w();const y=f.value;b.value&&(y==null?void 0:y[b.value])!=null&&(await y[b.value](),c.value=!0)}async function i(){await(c.value?w():$())}const x=()=>{const y=h();(!y||y&&u())&&(c.value=y)};return fe(a,_e,x,!1),fe(()=>ue(f),_e,x,!1),n&&de(w),{isSupported:s,isFullscreen:c,enter:$,exit:w,toggle:i}}function $l(v){var o;const a=X(v);return(o=a==null?void 0:a.$el)!=null?o:a}const El=se?window:void 0;function Fl(...v){let o,a,n,f;if(typeof v[0]=="string"||Array.isArray(v[0])?([a,n,f]=v,o=El):[o,a,n,f]=v,!o)return pe;Array.isArray(a)||(a=[a]),Array.isArray(n)||(n=[n]);const c=[],b=()=>{c.forEach(s=>s()),c.length=0},r=(s,u,h,w)=>(s.addEventListener(u,h,w),()=>s.removeEventListener(u,h,w)),_=ae(()=>[$l(o),X(f)],([s,u])=>{b(),s&&c.push(...a.flatMap(h=>n.map(w=>r(s,h,w,u))))},{immediate:!0,flush:"post"}),p=()=>{_(),b()};return de(p),p}const ve=O({name:"UseFullscreen",props:["as"],setup(v,{slots:o}){const a=q(),n=S(ke(a));return()=>{if(o.default)return Ge(v.as||"div",{ref:a},o.default(n))}}});function xe(v){const o=window.getComputedStyle(v);if(o.overflowX==="scroll"||o.overflowY==="scroll"||o.overflowX==="auto"&&v.clientWidth<v.scrollWidth||o.overflowY==="auto"&&v.clientHeight<v.scrollHeight)return!0;{const a=v.parentNode;return!a||a.tagName==="BODY"?!1:xe(a)}}function Dl(v){const o=v||window.event,a=o.target;return xe(a)?!1:o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)}function jl(v,o=!1){const a=q(o);let n=null,f;ae(xl(v),r=>{if(r){const _=r;f=_.style.overflow,a.value&&(_.style.overflow="hidden")}},{immediate:!0});const c=()=>{const r=X(v);!r||a.value||(ce&&(n=Fl(r,"touchmove",_=>{Dl(_)},{passive:!1})),r.style.overflow="hidden",a.value=!0)},b=()=>{const r=X(v);!r||!a.value||(ce&&(n==null||n()),r.style.overflow=f,a.value=!1)};return de(b),G({get(){return a.value},set(r){r?c():b()}})}function Bl(){let v=!1;const o=q(!1);return(a,n)=>{if(o.value=n.value,v)return;v=!0;const f=jl(a,n.value);ae(o,c=>f.value=c)}}Bl();const Pl=O({__name:"source",setup(v){const o=T(),a=S({activeName:"first",code:"function aa(){}",style:"#main{}"});ee(()=>{a.code=o.project.code,a.style=o.project.style});const n=()=>{try{const f=` 
        ${a.code}
    return LowCode;`,b=new Function(f)();Z.success("校验成功")}catch(f){Z.error(f.message)}};return(f,c)=>{const b=d("el-button"),r=d("box-ace"),_=d("el-tab-pane"),p=d("el-tabs");return N(),B(p,{modelValue:t(a).activeName,"onUpdate:modelValue":c[2]||(c[2]=s=>t(a).activeName=s)},{default:l(()=>[e(_,{label:"代码",name:"first"},{default:l(()=>[e(t(ve),null,{default:l(({isFullscreen:s,enter:u,exit:h,toggle:w})=>[e(b,{type:"primary",onClick:w},{default:l(()=>[V("全屏")]),_:2},1032,["onClick"]),e(b,{type:"primary",onClick:n},{default:l(()=>[V("校验")]),_:1}),e(r,{value:t(a).code,"onUpdate:value":c[0]||(c[0]=$=>t(a).code=$),style:{height:"100%"}},null,8,["value"])]),_:1})]),_:1}),e(_,{label:"样式",name:"first1"},{default:l(()=>[e(t(ve),null,{default:l(({isFullscreen:s,enter:u,exit:h,toggle:w})=>[e(b,{type:"primary",onClick:w},{default:l(()=>[V("全屏")]),_:2},1032,["onClick"]),e(r,{lang:"css",value:t(a).style,"onUpdate:value":c[1]||(c[1]=$=>t(a).style=$),style:{height:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ol={class:"dialog-footer"},Al=O({__name:"variable",setup(v){const o=T(),a=S({dialog:{visible:!1,title:"全局变量"},form:{},data:[]});ee(()=>{a.data=o.project.vars});const n=b=>{let r=new Set(a.data);r.delete(b);let _=[...r];o.project.vars=_},f=()=>{a.dialog.visible=!1},c=()=>{a.data.push({name:"名称",value:"值",desc:"说明"})};return(b,r)=>{const _=d("el-button"),p=d("el-input"),s=d("el-table-column"),u=d("el-table"),h=d("el-form-item"),w=d("el-form"),$=d("el-dialog");return N(),A(L,null,[e(_,{type:"primary",icon:"plus",onClick:c},{default:l(()=>[V("添加")]),_:1}),e(u,{data:t(a).data,style:{width:"100%"},stripe:"",border:""},{default:l(()=>[e(s,{prop:"name",label:"变量"},{default:l(i=>[e(p,{modelValue:i.row.name,"onUpdate:modelValue":x=>i.row.name=x},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(s,{prop:"value",label:"值"},{default:l(i=>[e(p,{modelValue:i.row.value,"onUpdate:modelValue":x=>i.row.value=x},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(s,{prop:"desc",label:"操作",width:"50px"},{default:l(i=>[e(_,{type:"danger",icon:"delete",onClick:x=>n(i.row),circle:""},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),e($,{modelValue:t(a).dialog.visible,"onUpdate:modelValue":r[2]||(r[2]=i=>t(a).dialog.visible=i),title:t(a).dialog.title,width:"60%",draggable:""},{footer:l(()=>[C("span",Ol,[e(_,{onClick:r[1]||(r[1]=i=>t(a).dialog.visible=!1)},{default:l(()=>[V("取消")]),_:1}),e(_,{type:"primary",onClick:f},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(w,{model:t(a).form,"label-width":"80px"},{default:l(()=>[e(h,{label:"变量"},{default:l(()=>[e(p,{modelValue:t(a).form.label,"onUpdate:modelValue":r[0]||(r[0]=i=>t(a).form.label=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}}),Il=C("span",{style:{"font-size":"14px","font-weight":"500px"}},"Function(){",-1),zl=C("span",{style:{"font-size":"14px","font-weight":"500px"}},"}",-1),Ll={class:"dialog-footer"},Tl=O({__name:"function",setup(v){const o=T(),a=S({dialog:{visible:!1,title:"函数"},form:{},resetForm:{name:"onClickxxxx",script:`const args = arguments[0];

console.log(args)

`},data:[]});ee(()=>{a.data=o.project.events});const n=()=>{a.dialog.visible=!0,Y(()=>{a.form=Object.assign({},a.resetForm)})},f=p=>{a.dialog.visible=!0,Y(()=>{a.form=Object.assign({},p)})},c=p=>{let s=Object.assign({},p);s.name=s.name+"-复制";let u=new Set(a.data);u.add(s);let h=[...u];o.project.events=h},b=p=>{let s=new Set(a.data);s.delete(p);let u=[...s];o.project.events=u},r=()=>{a.dialog.visible=!1,o.addEvent({...a.form})},_=()=>{try{const s=a.form.script;var p=new Function(s);const u=p();Z.success("测试通过")}catch(s){Z.error(s.message)}};return(p,s)=>{const u=d("el-button"),h=d("el-table-column"),w=d("el-table"),$=d("el-input"),i=d("el-form-item"),x=d("box-ace"),y=d("el-form"),j=d("el-dialog");return N(),A(L,null,[e(u,{type:"primary",icon:"plus",onClick:n},{default:l(()=>[V("新建")]),_:1}),e(w,{data:t(a).data,style:{width:"100%"},stripe:"",border:""},{default:l(()=>[e(h,{prop:"name",label:"函数名"}),e(h,{prop:"desc",label:"操作",width:"120px"},{default:l(D=>[e(u,{icon:"edit",onClick:I=>f(D.row),circle:""},null,8,["onClick"]),e(u,{type:"success",icon:"CopyDocument",onClick:I=>c(D.row),circle:""},null,8,["onClick"]),e(u,{type:"danger",icon:"delete",onClick:I=>b(D.row),circle:""},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),e(j,{modelValue:t(a).dialog.visible,"onUpdate:modelValue":s[4]||(s[4]=D=>t(a).dialog.visible=D),title:t(a).dialog.title,width:"60%",draggable:""},{footer:l(()=>[C("span",Ll,[e(u,{onClick:s[3]||(s[3]=D=>t(a).dialog.visible=!1)},{default:l(()=>[V("取消")]),_:1}),e(u,{type:"primary",onClick:_},{default:l(()=>[V("测试并校验")]),_:1}),e(u,{type:"primary",onClick:r},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(y,{model:t(a).form,"label-width":"80px"},{default:l(()=>[e(i,{label:"名称"},{default:l(()=>[e($,{modelValue:t(a).form.name,"onUpdate:modelValue":s[0]||(s[0]=D=>t(a).form.name=D)},null,8,["modelValue"])]),_:1}),e(i,{label:"内容"},{default:l(()=>[Il,e(x,{value:t(a).form.script,"onUpdate:value":s[1]||(s[1]=D=>t(a).form.script=D)},null,8,["value"]),zl]),_:1}),e(i,{label:"说明"},{default:l(()=>[e($,{type:"textarea",modelValue:t(a).form.desc,"onUpdate:modelValue":s[2]||(s[2]=D=>t(a).form.desc=D)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])],64)}}}),Jl=O({__name:"javascript",setup(v){const o=T(),a=S({dialog:{visible:!1,title:"函数"},data:[]});ee(()=>{a.data=o.project.jss});const n=()=>{o.addJS({name:"名称",url:"JS地址"})},f=c=>{let b=new Set(a.data);b.delete(c);let r=[...b];o.project.jss=r};return(c,b)=>{const r=d("el-button"),_=d("el-input"),p=d("el-table-column"),s=d("el-table");return N(),A(L,null,[e(r,{type:"primary",icon:"plus",onClick:n},{default:l(()=>[V("添加")]),_:1}),e(s,{data:t(a).data,style:{width:"100%"},stripe:"",border:""},{default:l(()=>[e(p,{prop:"value",label:"地址"},{default:l(u=>[e(_,{modelValue:u.row.url,"onUpdate:modelValue":h=>u.row.url=h},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(p,{prop:"desc",label:"操作",width:"50px"},{default:l(u=>[e(r,{type:"danger",icon:"delete",onClick:h=>f(u.row),circle:""},null,8,["onClick"])]),_:1})]),_:1},8,["data"])],64)}}}),Ml={class:"topArea"},Rl={class:"right"},Gl=C("div",{class:"container-preview",style:{height:"calc(100vh - 230px)"}}," sdfsfsdsdfsf 预览内容 ",-1),ql={class:"dialog-footer"},Hl={class:"dialog-footer"},Wl=O({__name:"index",setup(v){const{isFullscreen:o,enter:a,exit:n,toggle:f}=ke(),c=T(),b=()=>{},r=()=>{},_=()=>{c.clearComponent()},p=()=>{f()},s=S({visible:!1}),u=()=>{s.visible=!0},h=S({visible:!1,content:""}),w=S({visible:!1,content:""}),$=()=>{w.visible=!0;const x=JSON.stringify(c.project,null,"	");w.content=x},i=()=>{Z.success({message:"保存成功"})};return(x,y)=>{const j=d("el-button"),D=d("el-dialog"),I=d("box-ace");return N(),A(L,null,[C("div",Ml,[C("div",Rl,[e(j,{type:"primary",icon:t(qe),onClick:b},{default:l(()=>[V("撤销")]),_:1},8,["icon"]),e(j,{type:"primary",icon:t(He),onClick:r},{default:l(()=>[V("恢复")]),_:1},8,["icon"]),e(j,{type:"primary",icon:t(We),onClick:p},{default:l(()=>[V("全屏")]),_:1},8,["icon"]),e(j,{type:"primary",icon:t(Ye),onClick:u},{default:l(()=>[V("预览")]),_:1},8,["icon"]),e(j,{type:"primary",icon:t(Xe),onClick:$},{default:l(()=>[V("生成JSON")]),_:1},8,["icon"]),e(j,{type:"danger",icon:t(Ke),onClick:_},{default:l(()=>[V("清空")]),_:1},8,["icon"]),e(j,{type:"primary",icon:t(Qe),onClick:i},{default:l(()=>[V("保存")]),_:1},8,["icon"])])]),e(D,{modelValue:t(s).visible,"onUpdate:modelValue":y[2]||(y[2]=U=>t(s).visible=U),title:"预览",fullscreen:"",center:""},{footer:l(()=>[C("span",ql,[e(j,{onClick:y[0]||(y[0]=U=>t(s).visible=!1)},{default:l(()=>[V("取消")]),_:1}),e(j,{type:"primary",onClick:y[1]||(y[1]=U=>t(s).visible=!1)},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[Gl]),_:1},8,["modelValue"]),e(D,{modelValue:t(h).visible,"onUpdate:modelValue":y[4]||(y[4]=U=>t(h).visible=U),title:"生成代码",width:"70%",draggable:"true"},{default:l(()=>[e(I,{value:t(h).content,"onUpdate:value":y[3]||(y[3]=U=>t(h).content=U)},null,8,["value"])]),_:1},8,["modelValue"]),e(D,{modelValue:t(w).visible,"onUpdate:modelValue":y[8]||(y[8]=U=>t(w).visible=U),title:"生成JSON",width:"70%",draggable:"true"},{footer:l(()=>[C("span",Hl,[e(j,{type:"primary",onClick:y[6]||(y[6]=U=>t(w).visible=!1)},{default:l(()=>[V("复制到剪贴板")]),_:1}),e(j,{type:"primary",onClick:y[7]||(y[7]=U=>t(w).visible=!1)},{default:l(()=>[V(" 确定 ")]),_:1})])]),default:l(()=>[e(I,{lang:"json",value:t(w).content,"onUpdate:value":y[5]||(y[5]=U=>t(w).content=U)},null,8,["value"])]),_:1},8,["modelValue"])],64)}}});const Yl={class:"widget-container"},Xl={key:0,class:"empty"},Kl=O({__name:"widget",setup(v){he();const o=T();S({value:""});const a=q();return(n,f)=>{const c=d("box-drag-item");return N(),A("div",Yl,[!t(o).project.components||t(o).project.components.length==0?(N(),A("div",Xl,"从左侧拖拽或点击来添加字段 ")):J("",!0),e(c,{children:t(o).project.components,"onUpdate:children":f[0]||(f[0]=b=>t(o).project.components=b),ref_key:"refDragItem",ref:a},null,8,["children"])])}}});const Ql={style:{top:"10px",left:"0px",right:"0px",bottom:"10px",position:"absolute",height:"calc(100% - 20px)","background-color":"#fff"}},Zl={style:{top:"10px",left:"0px",right:"0px",bottom:"10px",position:"absolute",height:"calc(100% - 20px)","background-color":"#fff"}},et=C("div",{style:{"text-align":"center","line-height":"30px","font-size":"14px"}}," 2023~ ",-1),tt=O({__name:"index",setup(v){T(),we(()=>{});const o=q(),a=S({activeName:"first"}),n=S({activeName:"first"}),f=S({left:!0,right:!0});return(c,b)=>{const r=d("el-header"),_=d("el-tab-pane"),p=d("el-tabs"),s=d("el-aside"),u=d("el-main"),h=d("el-container"),w=d("el-footer");return N(),B(h,null,{default:l(()=>[e(r,{height:"48px"},{default:l(()=>[e(Wl)]),_:1}),e(h,{style:{height:"calc(100vh - 100px)"}},{default:l(()=>[e(s,{width:"350px",class:"widget-config-container",style:me([{padding:"10px",background:"rgb(242, 243, 245)"},{"--el-aside-width":t(f).left==!1?"0px":"350px"}])},{default:l(()=>[C("div",Ql,[e(p,{modelValue:t(a).activeName,"onUpdate:modelValue":b[0]||(b[0]=$=>t(a).activeName=$),"tab-position":"left"},{default:l(()=>[e(_,{label:"组件库",name:"first"},{default:l(()=>[e(cl)]),_:1}),e(_,{label:"大纲树",name:"second"},{default:l(()=>[e(il)]),_:1}),e(_,{label:"数据源",name:"third"},{default:l(()=>[e(wl)]),_:1}),e(_,{label:"源码区",name:"fourth"},{default:l(()=>[e(Pl)]),_:1}),e(_,{label:"变量区",name:"fourth1"},{default:l(()=>[e(Al)]),_:1}),e(_,{label:"外部JS",name:"fourth2"},{default:l(()=>[e(Jl)]),_:1}),e(_,{label:"函数区",name:"fourth3"},{default:l(()=>[e(Tl)]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["style"]),e(h,null,{default:l(()=>[e(u,{style:{padding:"0",position:"relative",background:"#f2f3f5"},ref_key:"refMain",ref:o},{default:l(()=>[e(Kl)]),_:1},512)]),_:1}),e(s,{width:"350px",class:"widget-config-container",style:me([{padding:"10px",background:"rgb(242, 243, 245)"},{"--el-aside-width":t(f).right==!1?"0px":"350px"}])},{default:l(()=>[C("div",Zl,[e(p,{modelValue:t(n).activeName,"onUpdate:modelValue":b[1]||(b[1]=$=>t(n).activeName=$)},{default:l(()=>[e(_,{label:"属性",name:"first"},{default:l(()=>[e(nl)]),_:1}),e(_,{label:"样式",name:"first1"},{default:l(()=>[e(ol)]),_:1}),e(_,{label:"事件",name:"first2"},{default:l(()=>[e(tl)]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["style"])]),_:1}),e(w,{height:"30px"},{default:l(()=>[et]),_:1})]),_:1})}}});export{tt as default};
